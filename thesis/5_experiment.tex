%! Author = ASUS
%! Date = 3/27/2023

% Preamble
\documentclass[11pt]{article}

% Packages
\usepackage{amsmath}
\usepackage{lipsum}
\usepackage{wasysym}
\usepackage{subcaption}
\usepackage{adjustbox}
\usepackage{multirow}
\usepackage{graphicx}
\usepackage{float}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{pgfplots}
\lstset{basicstyle=\ttfamily,
  showstringspaces=false,
  commentstyle=\color{red},
  keywordstyle=\color{blue}
}

\graphicspath{{./images}}

% Document
\begin{document}
    \section{Dataset}
    \paragraph{Aerial Point Cloud:} An extensive collection of 3D points is obtained from the city of Padova
    using an airplane. The covered region spans 1600m by 1000m, and the average nearest neighbor distance
    of points is 0.63m. The dataset contains a total of 3,583,803 points, figure \ref{fig:ply_aerial_all}.
    \paragraph{Ground Point Clouds:} 10 dense point clouds are created using the Structure from Motion algorithm.
    They are further refined by Pixel-Perfect algorithm. Each dataset comprises an average of
    60 frames extracted from a 30-second undistorted video. The video was recorded at a frame rate of 60 fps.
    The resolution of each image is 1920*1080 pixels, and the distance covered in each dataset ranges from 80 to 120 meters.

    \section{Metrics}
    In our matching problem, there are four key parameters for evaluation:
    \begin{itemize}
        \item the 2D coordinates (x, y) of the detected pose of the center,
        \item the scale
        \item the rotation
    \end{itemize}
    of the ground binary grid map within the source binary grid map.

    The results of the global registration are binary in nature, meaning that whether the template point cloud
    is successfully found in the source or not. Hence, the first metric used is the Average Success Rate.
    \paragraph{Average Success Rate:} For each ground binary map and its corresponding aerial binary map, if the difference
    between the four key parameters and their ground truth values is less than a certain threshold, it is considered
    a successful match. In our experiment, the euclidean distance between the center of the ground binary map and the ground
    truth, i.e. which is the center of each aerial binary grid map, should not be more than 25 meters. An acceptable
    scale factor is between 80\% to 130\% of the ground truth. And, the rotation angle should not be more than 10
    degrees, otherwise, in most cases, the wrong street is detected.

    \section{Results}
    There are 10 ground datasets, and for each dataset, there are three aerial datasets categorized as easy, medium,
    and hard. Figure \ref{fig:asr} shows the average success rate, in percentage, for all ground datasets based on the
    difficulty level of their corresponding aerial datasets.
    \begin{figure}
        \centering
        \begin{tikzpicture}
            \begin{axis}[
                title={Average Success Rate},
                xlabel={difficulty level},
                ylabel={percentage of success among all attepmts},
                ymin=0, ymax=100,
                xtick=data,
                xticklabels={easy, medium, hard,},
                ytick={0,20,40,60,80,100},
                legend pos=north west,
                ymajorgrids=true,
                grid style=dashed,
            ]

                \addplot[
                    color=blue,
                    mark=square,
                    ]
                    coordinates {
                    (1,80)
                    (2,50)
                    (3,30)
                    };
            \end{axis}
        \end{tikzpicture}
        \caption{Average Success Rate for template matching}
        \label{fig:asr}
    \end{figure}

    Here are the final results of template matching. For each ground dataset, 3 images are provided illustrating the
    result matches in easy, medium, and hard aerial point clouds. The yellow pixels refer to the aerial point cloud(source)
    and green pixels are related to the ground point cloud(template). The axes of the graph are scaled in meters multiplied
    by a resolution value. This resolution is either 3.3 or 6.6 and is because of variations in the density of points
    and for a more accurate representation of the grid maps.

    For each ground dataset that has at least one successful result, a table of detailed errors of transformation
    in meters, i.e. distance between the center of source and template images, scale in percentage, and angle in
    degrees is provided.

    % 4_3_3
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/4_3_3_easy}
            \caption{Easy: \textcolor{teal}{Success}}
            \label{fig:4_3_3_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/4_3_3_medium}
            \caption{Medium: \textcolor{red}{Failed}}
            \label{fig:4_3_3_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/4_3_3_hard}
            \caption{Hard: \textcolor{red}{Failed}}
            \label{fig:4_3_3_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 1}
        \label{fig:res_4_3_3}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy} & 0.50m & +3.5\% & +2° \\
          \hline
          \textbf{Medium} & - & - & - \\
          \hline
          \textbf{Hard} & - & - & - \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 1}
        \label{tab:tab_1}
    \end{table}

    % 4_1_3
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/4_1_3_easy}
            \caption{Easy: \textcolor{teal}{Success}}
            \label{fig:4_1_3_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/4_1_3_medium}
            \caption{Medium: \textcolor{teal}{Success}}
            \label{fig:4_1_3_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/4_1_3_hard}
            \caption{Hard: \textcolor{teal}{Success}}
            \label{fig:4_1_3_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 2}
        \label{fig:res_4_1_3}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy}   & 3.16m & -8.7\%  & -3° \\
          \hline
          \textbf{Medium} & 6.66  & +7.14\% & -3° \\
          \hline
          \textbf{Hard}   & 26.6  & +16.6\% & -3° \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 2}
        \label{tab:tab_2}
    \end{table}

    % 5_1_2
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/5_1_2_easy}
            \caption{Easy: \textcolor{teal}{Success}}
            \label{fig:5_1_2_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/5_1_2_medium}
            \caption{Medium: \textcolor{teal}{Success}}
            \label{fig:5_1_2_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/5_1_2_hard}
            \caption{Hard: \textcolor{red}{Failed}}
            \label{fig:5_1_2_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 3}
        \label{fig:res_5_1_2}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy}   & 1.6m & -4.4\%  & 1° \\
          \hline
          \textbf{Medium} & 4.83m  & +13.3\% & 1° \\
          \hline
          \textbf{Hard}   & -  & - & - \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 3}
        \label{tab:tab_3}
    \end{table}

    % 4_0_1
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/4_0_1_easy}
            \caption{Easy: \textcolor{red}{Failed}}
            \label{fig:4_0_1_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/4_0_1_medium}
            \caption{Medium: \textcolor{teal}{Success}}
            \label{fig:4_0_1_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/4_0_1_hard}
            \caption{Hard: \textcolor{red}{Failed}}
            \label{fig:4_0_1_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 4}
        \label{fig:res_4_0_1}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy}   & -  & - & - \\
          \hline
          \textbf{Medium} & 5.62m  & -9.11\% & -3° \\
          \hline
          \textbf{Hard}   & -  & - & - \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 3}
        \label{tab:tab_4}
    \end{table}

    % 5_6_2
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/5_6_2_easy}
            \caption{Easy: \textcolor{teal}{Success}}
            \label{fig:5_6_2_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/5_6_2_medium}
            \caption{Medium: \textcolor{teal}{Success}}
            \label{fig:5_6_2_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/5_6_2_hard}
            \caption{Hard: \textcolor{teal}{Success}}
            \label{fig:5_6_2_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 5}
        \label{fig:res_5_6_2}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy}   & <1m  & -9.1\% & -3° \\
          \hline
          \textbf{Medium} & 5.44m  & +27.2\% & +7° \\
          \hline
          \textbf{Hard}   & 8.63m  & +81.2\% & -3° \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 5}
        \label{tab:tab_5}
    \end{table}

    % 5_7_1
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/5_7_1_easy}
            \caption{Easy: \textcolor{teal}{Success}}
            \label{fig:5_7_1_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/5_7_1_medium}
            \caption{Medium: \textcolor{teal}{Success}}
            \label{fig:5_7_1_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/5_7_1_hard}
            \caption{Hard: \textcolor{teal}{Success}}
            \label{fig:5_7_1_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 6}
        \label{fig:res_5_7_1}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy}   & 1.4m  & +6.1\% & +3° \\
          \hline
          \textbf{Medium} & 3.6m  & +3.3\% & +3° \\
          \hline
          \textbf{Hard}   & 3.5m  & +3.3\% & +3° \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 6}
        \label{tab:tab_6}
    \end{table}

    % 5_2_4
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/5_2_4_easy}
            \caption{Easy: \textcolor{teal}{Success}}
            \label{fig:5_2_4_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/5_2_4_medium}
            \caption{Medium: \textcolor{red}{Failed}}
            \label{fig:5_2_4_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/5_2_4_hard}
            \caption{Hard: \textcolor{red}{Failed}}
            \label{fig:5_2_4_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 7}
        \label{fig:res_5_2_4}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy}   & 34m  & -5.9\% & +4° \\
          \hline
          \textbf{Medium} & -  & - & - \\
          \hline
          \textbf{Hard}   & -  & - & - \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 7}
        \label{tab:tab_7}
    \end{table}

    % 5_7_2
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/5_7_2_easy}
            \caption{Easy: \textcolor{teal}{Success}}
            \label{fig:5_7_2_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/5_7_2_medium}
            \caption{Medium: \textcolor{red}{Failed}}
            \label{fig:5_7_2_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/5_7_2_hard}
            \caption{Hard: \textcolor{red}{Failed}}
            \label{fig:5_7_2_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 8}
        \label{fig:res_5_7_2}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy}   & 17.2m  & -5.2\% & +1° \\
          \hline
          \textbf{Medium} & -  & - & - \\
          \hline
          \textbf{Hard}   & -  & - & - \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 8}
        \label{tab:tab_8}
    \end{table}

    % 5_6_1
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/5_6_1_easy}
            \caption{Easy: \textcolor{teal}{Success}}
            \label{fig:5_6_1_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/5_6_1_medium}
            \caption{Medium: \textcolor{red}{Failed}}
            \label{fig:5_6_1_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/5_6_1_hard}
            \caption{Hard: \textcolor{red}{Failed}}
            \label{fig:5_6_1_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 9}
        \label{fig:res_5_6_1}
    \end{figure}

    \begin{table}[p]
        \centering
        \begin{tabular}{|c|c|c|c|}
          \hline
          \textbf{Errors:} & \textbf{Transformation} & \textbf{Scale} & \textbf{Rotation} \\
          \hline
          \textbf{Easy}   & <1m  & -1.33\% & -3° \\
          \hline
          \textbf{Medium} & -  & - & - \\
          \hline
          \textbf{Hard}   & -  & - & - \\
          \hline
        \end{tabular}
        \caption{Detailed errors of Dataset 9}
        \label{tab:tab_9}
    \end{table}


    % 5_2_3
    \newpage
    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/easy/5_2_3_easy}
            \caption{Easy: \textcolor{red}{Failed}}
            \label{fig:5_2_3_easy}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/medium/5_2_3_medium}
            \caption{Medium: \textcolor{red}{Failed}}
            \label{fig:5_2_3_medium}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/hard/5_2_3_hard}
            \caption{Hard: \textcolor{red}{Failed}}
            \label{fig:5_2_3_hard}
        \end{subfigure}
        \hfill

        \caption{Dataset 10}
        \label{fig:res_5_2_3}
    \end{figure}

    \clearpage

    As expected, localizing in wider windows of the Aerial Point Cloud becomes more challenging. Also, in open spaces
    where 3D points represent flat surfaces and do not precisely shape the street geometry, identifying their pattern
    in the aerial point cloud is difficult, like in dataset 10. Moreover, localizing streets with simple
    geometry is unlikely. For instance, if the generated point cloud only represents a straight alley, its binary
    grid map would be a simple rectangle. Considering the template matching algorithm,
    a rectangular as the template binary map could be matched with any streets, especially in small scales.
    We expect that the algorithm would be able to localize more accurately after passing a crossroads or when the street's direction changes.

    Next, by mapping the resulting 2D coordinates to the aerial point cloud's reference frame, and applying the scaling
    and rotation factors, the ground point cloud is located inside the aerial point cloud. Then, since the successful results
    are close enough to the ground truth, we used Iterative Closest Point (ICP), which a common local point cloud
    registration algorithm for final refinement. Figure \ref{fig:icp_refine} shows a few of the best results:

    \begin{figure}[p]
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/ply/5_1_2_before_icp}
            \caption{Dataset 3: Before ICP}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/ply/5_1_2_after_icp}
            \caption{Dataset 3: After ICP}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/ply/5_7_1_before_icp}
            \caption{Dataset 6: Before ICP}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/ply/5_7_1_after_icp}
            \caption{Dataset 6: After ICP}
        \end{subfigure}

        \vspace{1em}

        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/ply/5_6_1_before_icp}
            \caption{Dataset 9: Before ICP}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/full/ply/5_6_1_after_icp}
            \caption{Dataset 9: After ICP}
        \end{subfigure}

        \caption{Moving the template matching results to the aerial point cloud reference frame}
        \label{fig:icp_refine}
    \end{figure}
    \clearpage

    \section{Reconstruction Details}
    \paragraph{Calibration and its impact:}
    One of our case studies was if giving wider but distorted images with manual calibration parameters to the SfM pipeline
    could enhance the accuracy and increase the number of generated point clouds of a wider field of view. We used
    the camera with 2.7k resolution, 60fps, and wide and distorted settings. The camera was calibrated using the
    checkerboard method. Figure \ref{fig:img_distorted} demonstrates an example of undistortion of video frame,
    and Figure \ref{fig:ply_distorted} illustrates the resulting sparse point clouds.
    The generated point cloud has a notable error in the street angles, meaning that, from the top point of view, the
    streets should have been perpendicular to each other. However, the result displays an angle that is less than 90 degrees.
    Also, the points associated with the ground truth plane are excessively spread out from the generated plane.
    Furthermore, the execution time experienced an exponential increase. For instance, it took approximately
    10 minutes to construct a sparse point cloud from the undistorted frames shown in Figure \ref{fig:ply_distorted}
    , whereas the same procedure for the distorted frames required more than 2 hours.

    \begin{figure}
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/experiment/img_distorted}
            \caption{Distorted frame}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/experiment/img_undistorted}
            \caption{Corrected image using calibration parameters}
        \end{subfigure}
        \caption{Samples of distorted and corrected video frames}
        \label{fig:img_distorted}
    \end{figure}

    \begin{figure}
        \centering
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/experiment/ply_distorted}
            \caption{From distorted frame}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.45\textwidth}
            \centering
            \includegraphics[width=\linewidth]{images/experiment/ply_undistorted}
            \caption{From undistorted frame}
        \end{subfigure}
        \caption{Point clouds generated from distorted and undistorted video frames from top point of view}
        \label{fig:ply_distorted}
    \end{figure}

    \paragraph{Boosting Reconstruction pipeline:}
    The process of Structure from Motion is computationally heavy and not suitable for real-time usage,
    particularly when it comes to dense reconstruction. Table \ref{tab:exe_time} presents the execution time of the sparse reconstruction
    for each step of the SfM algorithm running on our datasets.
    \begin{table}[htb]
        \centering
        \begin{adjustbox}{max width=\textwidth}
            \begin{tabular}{|c|c|c|c|c|c|c|}
                \hline
                 Inputs:                 & Max num of features & Feature Extraction & Feature Matching & Bundle Adjustment & total    \\
                \hline
                300 frames(1080p)       & 30000               & 0.85mins           & 1.01mins          & 21.5mins          & 23.36mins \\
                \hline
                300 frames              & 5000                & 0.15mins           & 0.23mins          & 6.74mins          & 7.12mins \\
                \hline
                300 frames(Known poses) & 30000               & 0.73mins           & 1.05mins          & 1.65mins          & 3.43mins \\
                \hline
            \end{tabular}
        \end{adjustbox}
        \caption{The execution time of the sparse reconstruction for each step of the SfM algorithm using Nvidia RTX3090 graphics}
        \label{tab:exe_time}
    \end{table}

    As can be seen, bundle adjustment is the bottleneck. During our experiments, we noticed that providing an
    initial estimation of camera poses can greatly reduce the number of iterations required for bundle adjustment.
    Hence, we explored the use of existing visual Simultaneous Localization and Mapping (vSLAM) methods to approximate
    the initial camera poses. The best solution we found that using COLMAP sparse reconstruction with low configuration
    parameters, such as lower image resolution and limiting the maximum number of keypoints and matches, just to obtain
    camera poses. Then, COLMAP's sparse reconstruction is re-executing with the initial camera poses and high-quality configuration.
    This trick reduced the execution time significantly such that a dataset of 300 frames was reconstructed in 10 minutes.


\end{document}